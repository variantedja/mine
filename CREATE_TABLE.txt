CREATE TABLE users (
    id INT NOT NULL AUTO_INCREMENT
    , username VARCHAR(100) NOT NULL
    , email VARCHAR(255) NOT NULL UNIQUE
    , password VARCHAR(255) NOT NULL
    , status ENUM('active', 'archived') NOT NULL
    , created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
    , updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
    , PRIMARY KEY (id)
);

CREATE TABLE addresses (
    id INT NOT NULL AUTO_INCREMENT
    , user_id INT NOT NULL
    , detail TEXT NOT NULL
    , preferred BOOLEAN NOT NULL
    , created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
    , updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
    , PRIMARY KEY (id)
    , FOREIGN KEY (user_id) REFERENCES users(id)
);